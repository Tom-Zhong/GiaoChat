extends layout

block content
  script(src="https://cdn.jsdelivr.net/npm/emoji-mart@latest/dist/browser.js")
  script.
    const pickerOptions = {
      onEmojiSelect: (obj) => { $('#message').append(obj.native)},
      previewPosition: 'none',
      searchPosition: 'none'
    }
    const picker = new EmojiMart.Picker(pickerOptions)
    document.body.appendChild(picker)
  section#chatroom
    //div#messages

    div(class="scroll-wrapper")
      div(class="pulldown-scroller")
        div(class="pulldown-wrapper")
          div
            div(class="spinner-border", role="status")
              span(class="visually-hidden") Loading...
        div(class="pulldown-list")
          div(class="chat")
            div(class="chat-history")
              ul
    div#message-editter
      form(class="row g-3", action='javascript:;')
        div(class="col-9")
          textarea(class="form-control", aria-label="With textarea", id="message")
        div(class="col-3")
          button(type="submit", class="btn btn-primary mb-3", id="send") 发送

      form(class="was-validated")
        div(class="mb-3")
          label(class="btn btn-primary" for="file") Send File
          input(id="file", name="file", type="file", class="form-control", aria-label="file example", required="", hidden="hidden")
      audio(id='audioPlay', src='/test/1671126880920-509850897.wav', autoplay)
      button(class="btn btn-primary mb-3", id="play") 播放
      button(class="btn btn-primary mb-3", id="record") 录音

